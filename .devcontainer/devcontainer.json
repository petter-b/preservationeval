{
  "image": "mcr.microsoft.com/devcontainers/base:ubuntu",

  "features": {
    // --- BASE UTILITIES ---
    // Ensures a non-root user ('vscode') is created with sudo access.
    "ghcr.io/devcontainers/features/common-utils:2": {
      "installSudo": true,
      "configureSudo": true
    },
    
    // --- DEV-TOOLS (Match these to your CI workflow) ---
    // Installs Python 3. Change the version to match your needs.
    "ghcr.io/devcontainers/features/python:1": {
      "version": "3.11"
    },
    // Installs Node.js. This feature automatically includes npm.
    "ghcr.io/devcontainers/features/node:1": {
      "version": "20"
    },

    // --- CI/CD DEBUGGING TOOLS ---
    // Installs Docker, which is required by 'act' to run jobs.
    "ghcr.io/devcontainers/features/docker-in-docker:2": {},
    // Installs 'act' using a community feature. This correctly handles the PATH.
    "ghcr.io/devcontainers-contrib/features/act:1": {}
  },

  "customizations": {
    "vscode": {
      "settings": {},
      "extensions": [
        "github.vscode-github-actions"
      ]
    }
  },

  "remoteUser": "vscode"
}